---
title: Pokusy so strojovým učením Studio (klasické)
description: Používajte modely strojového učenia Studio (klasické) v službe Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: sk-SK
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669037"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="a68d6-103">Používajte modely založené na strojovom učení Azure Studio (klasické)</span><span class="sxs-lookup"><span data-stu-id="a68d6-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="a68d6-104">Zjednotené údaje v službe Dynamics 365 Customer Insights sú zdrojom pre vytváranie modelov strojového učenia, ktoré môžu generovať ďalšie obchodné prehľady.</span><span class="sxs-lookup"><span data-stu-id="a68d6-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="a68d6-105">Customer Insights sa integruje do služby strojového učenia Studio (klasickej), aby ste mohli používať svoje vlastné modely.</span><span class="sxs-lookup"><span data-stu-id="a68d6-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="a68d6-106">Ak sa chcete dozvedieť, ako sa modely vyvinuté cez strojové učenie platformy Azure integrujú do nástroja Customer Insights, prečítajte si sekciu [Pokusy so strojovým učením platformy Azure](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="a68d6-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a68d6-107">Predpoklady</span><span class="sxs-lookup"><span data-stu-id="a68d6-107">Prerequisites</span></span>

- <span data-ttu-id="a68d6-108">Prístup do Customer Insights</span><span class="sxs-lookup"><span data-stu-id="a68d6-108">Access to Customer Insights</span></span>
- <span data-ttu-id="a68d6-109">Aktívne predplatné Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="a68d6-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="a68d6-110">Zjednotené profily zákazníka</span><span class="sxs-lookup"><span data-stu-id="a68d6-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="a68d6-111">Konfigurácia [exportu entity do úložiska Azure Blob](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="a68d6-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="a68d6-112">Nastavenie klasického strojového učenia Studio</span><span class="sxs-lookup"><span data-stu-id="a68d6-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="a68d6-113">V rámci prvého kroku musíme vytvoriť pracovný priestor a otvoriť Strojové učenie Studio (klasické).</span><span class="sxs-lookup"><span data-stu-id="a68d6-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="a68d6-114">Prejdite do [https://www.portal.azure.com](https://www.portal.azure.com/) a prihláste sa.</span><span class="sxs-lookup"><span data-stu-id="a68d6-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="a68d6-115">Vyberte **Vytvoriť zdroj**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="a68d6-116">Vyhľadajte **Pracovný priestor štúdia strojového učenia** a vyberte **Vytvoriť**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="a68d6-117">Zadajte požadované podrobnosti na [vytvorenie pracovného priestoru](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="a68d6-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="a68d6-118">Vyberte položku **Cenová úroveň plánu webových služieb** na základe množstva údajov, ktoré plánujete importovať.</span><span class="sxs-lookup"><span data-stu-id="a68d6-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="a68d6-119">Ak chcete dosiahnuť najlepší výkon, vyberte **Umiestnenie**, ktoré je vám geograficky najbližšie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="a68d6-120">Po vytvorení zdroja sa zobrazí hlavný panel štúdia strojového učenia.</span><span class="sxs-lookup"><span data-stu-id="a68d6-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="a68d6-121">Vyberte **Spustiť štúdio strojového učenia**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Používateľské rozhranie štúdia strojového učenia Azure](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="a68d6-123">Práca so štúdiom strojového učenia Azure</span><span class="sxs-lookup"><span data-stu-id="a68d6-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="a68d6-124">Teraz môžete vytvoriť nový experiment alebo importovať existujúcu šablónu experimentu z ukážkovej galérie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="a68d6-125">Existujú ukážkové pokusy pre tri štandardné scenáre:</span><span class="sxs-lookup"><span data-stu-id="a68d6-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="a68d6-126">Predikcia straty</span><span class="sxs-lookup"><span data-stu-id="a68d6-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="a68d6-127">Hodnota životnosti zákazníka</span><span class="sxs-lookup"><span data-stu-id="a68d6-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="a68d6-128">Odporúčanie produktu alebo najbližšia najlepšia akcia</span><span class="sxs-lookup"><span data-stu-id="a68d6-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="a68d6-129">Ak vytvoríte nový experiment alebo použijete šablónu experimentu z galérie, musíte nakonfigurovať vlastnosti **Importovať údaje**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="a68d6-130">Použite sprievodcu alebo priamo poskytnite údaje na prístup k ukladaciemu priestoru BLOB platformy Azure, ktoré obsahuje vaše údaje.</span><span class="sxs-lookup"><span data-stu-id="a68d6-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Experiment so štúdiom strojového učenia Azure](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="a68d6-132">Teraz môžete zostaviť vlastný spracovateľský kanál na čistenie a predspracovanie údajov, extrahovanie charakteristických znakov a vyškolenie vhodného modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="a68d6-133">Otestujte a optimalizujte výkon modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="a68d6-134">Ak ste spokojní s kvalitou modelu, vyberte položku **Nastaviť webovú službu** > **Prediktívna webová služba**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="a68d6-135">Táto možnosť importuje vycvičený model a kanál charakterizácie z výcvikového experimentu do prediktívnej služby.</span><span class="sxs-lookup"><span data-stu-id="a68d6-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="a68d6-136">Prediktívna služba môže vziať ďalšiu množinu vstupných údajov so schémou použitou vo výcvikovom experimente na vytváranie predikcií.</span><span class="sxs-lookup"><span data-stu-id="a68d6-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Konfigurácia prediktívnej webovej služby](media/predictive-webservice-control.png)

1. <span data-ttu-id="a68d6-138">Keď experiment prediktívnej webovej služby prebehol úspešne, môžete ho nasadiť na automatické plánovanie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="a68d6-139">Ak chcete, aby webová služba pracovala s Customer Insights, zvoľte **Nasadiť webovú službu** > **Ukážka Nasadiť webovú službu [nová]**.</span><span class="sxs-lookup"><span data-stu-id="a68d6-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="a68d6-140">[Ďalšie informácie o nasadení webovej služby](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="a68d6-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Nasadenie prediktívnej webovej služby](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="a68d6-142">Vzorové modely z galérie</span><span class="sxs-lookup"><span data-stu-id="a68d6-142">Sample models from the gallery</span></span>

<span data-ttu-id="a68d6-143">Pre modely v tomto článku použijeme fiktívny scenár spoločnosti Contoso Hotel.</span><span class="sxs-lookup"><span data-stu-id="a68d6-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="a68d6-144">Contoso Hotel zhromažďuje nasledujúce údaje:</span><span class="sxs-lookup"><span data-stu-id="a68d6-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="a68d6-145">CRM údaje pozostávajúce z aktivity pobytov v hoteli.</span><span class="sxs-lookup"><span data-stu-id="a68d6-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="a68d6-146">Súbor údajov obsahuje informácie o dátumoch pobytu pre každého registrovaného zákazníka.</span><span class="sxs-lookup"><span data-stu-id="a68d6-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="a68d6-147">Obsahuje tiež informácie o rezervácii, typoch izieb, podrobnostiach o útratách atď.</span><span class="sxs-lookup"><span data-stu-id="a68d6-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="a68d6-148">Údaje pokrývajú štyri roky, od januára 2014 do januára 2018.</span><span class="sxs-lookup"><span data-stu-id="a68d6-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="a68d6-149">Profily zákazníkov hotelových hostí.</span><span class="sxs-lookup"><span data-stu-id="a68d6-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="a68d6-150">Tieto profily obsahujú informácie o každom zákazníkovi vrátane jeho mena, dátumu narodenia, poštovej adresy, pohlavia a telefónneho čísla.</span><span class="sxs-lookup"><span data-stu-id="a68d6-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="a68d6-151">Využitie služieb ponúkaných hotelom, ako sú kúpele, práčovňa, Wi-Fi alebo kuriér.</span><span class="sxs-lookup"><span data-stu-id="a68d6-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="a68d6-152">Tieto informácie sa zaznamenávajú pre každého registrovaného zákazníka.</span><span class="sxs-lookup"><span data-stu-id="a68d6-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="a68d6-153">Typicky je použitie služieb spojené s pobytom.</span><span class="sxs-lookup"><span data-stu-id="a68d6-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="a68d6-154">V niektorých prípadoch môžu služby využívať zákazníci bez pobytu v hoteli.</span><span class="sxs-lookup"><span data-stu-id="a68d6-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="a68d6-155">Analýza straty</span><span class="sxs-lookup"><span data-stu-id="a68d6-155">Churn Analysis</span></span>

<span data-ttu-id="a68d6-156">Analýza straty sa vzťahuje na rôzne oblasti podnikania.</span><span class="sxs-lookup"><span data-stu-id="a68d6-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="a68d6-157">V rámci tohto príkladu sa pozrieme na stratu služieb, konkrétne v súvislosti s hotelovými službami, ako je opísané vyššie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="a68d6-158">Poskytuje to funkčný príklad komplexného modelového kanála, ktoré sa môže použiť ako východiskový bod pre akýkoľvek iný typ modelu straty.</span><span class="sxs-lookup"><span data-stu-id="a68d6-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="a68d6-159">Definícia straty</span><span class="sxs-lookup"><span data-stu-id="a68d6-159">Definition of Churn</span></span>

<span data-ttu-id="a68d6-160">Definícia straty sa môže líšiť v závislosti od scenára.</span><span class="sxs-lookup"><span data-stu-id="a68d6-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="a68d6-161">V rámci tohto príkladu by mal byť hosť, ktorý nenavštívil hotel v minulom roku, označený ako stratený.</span><span class="sxs-lookup"><span data-stu-id="a68d6-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="a68d6-162">Šablónu pokusu je možné importovať z galérie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="a68d6-163">Najskôr sa uistite, že ste importovali údaje **Aktivita pobytov v hoteli**, **Údaje o zákazníkovi** a **Údaje o využití služieb** z ukladacieho priestoru BLOB platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="a68d6-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Import údajov pre model straty](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="a68d6-165">Charakterizácia</span><span class="sxs-lookup"><span data-stu-id="a68d6-165">Featurization</span></span>

<span data-ttu-id="a68d6-166">Na základe definície straty najskôr identifikujeme prvotné charakteristické vlastnosti, ktoré budú mať vplyv na označenie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="a68d6-167">Tieto nespracované charakteristické vlastnosti potom spracujeme do podoby číselnej podoby, ktorú je možné použiť v modeloch strojového učenia.</span><span class="sxs-lookup"><span data-stu-id="a68d6-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="a68d6-168">K integrácii údajov dochádza v službe Customer Insights, aby sme sa k týmto tabuľkám mohli pripojiť pomocou *ID zákazníka*.</span><span class="sxs-lookup"><span data-stu-id="a68d6-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Pripojenie sa k importovaným údajom](media/join-imported-data.png)

<span data-ttu-id="a68d6-170">Charakterizácia pre vytvorenie modelu pri analýze straty môže byť trochu zložitejšia.</span><span class="sxs-lookup"><span data-stu-id="a68d6-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="a68d6-171">Dáta sú funkciou času a každý deň sa zaznamenáva nová hotelová aktivita.</span><span class="sxs-lookup"><span data-stu-id="a68d6-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="a68d6-172">Počas charakterizácie chceme generovať statické charakteristické vlastnosti z dynamických údajov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="a68d6-173">V tomto prípade z činnosti hotela generujeme viac charakteristických vlastností s posuvným oknom v trvaní jedného roka.</span><span class="sxs-lookup"><span data-stu-id="a68d6-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="a68d6-174">Kategorické charakteristické vlastnosti, ako je typ izby alebo typ rezervácie, tiež rozširujeme na samostatné charakteristické vlastnosti pomocou jednorazového kódovania.</span><span class="sxs-lookup"><span data-stu-id="a68d6-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="a68d6-175">Konečný zoznam charakteristických vlastností:</span><span class="sxs-lookup"><span data-stu-id="a68d6-175">Final list of features:</span></span>

| <span data-ttu-id="a68d6-176">**Číslo**</span><span class="sxs-lookup"><span data-stu-id="a68d6-176">**Number**</span></span>  | <span data-ttu-id="a68d6-177">**Pôvodný_stĺpec**</span><span class="sxs-lookup"><span data-stu-id="a68d6-177">**Original_Column**</span></span>          | <span data-ttu-id="a68d6-178">**Odvodené charakteristické vlastnosti**</span><span class="sxs-lookup"><span data-stu-id="a68d6-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a68d6-179">1</span><span class="sxs-lookup"><span data-stu-id="a68d6-179">1</span></span>           | <span data-ttu-id="a68d6-180">Typ izby</span><span class="sxs-lookup"><span data-stu-id="a68d6-180">Room Type</span></span>                    | <span data-ttu-id="a68d6-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="a68d6-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="a68d6-182">2</span><span class="sxs-lookup"><span data-stu-id="a68d6-182">2</span></span>           | <span data-ttu-id="a68d6-183">Typ rezervácie</span><span class="sxs-lookup"><span data-stu-id="a68d6-183">Booking Type</span></span>                 | <span data-ttu-id="a68d6-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="a68d6-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="a68d6-185">3</span><span class="sxs-lookup"><span data-stu-id="a68d6-185">3</span></span>           | <span data-ttu-id="a68d6-186">Kategória cestovania</span><span class="sxs-lookup"><span data-stu-id="a68d6-186">Travel Category</span></span>              | <span data-ttu-id="a68d6-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="a68d6-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="a68d6-188">4</span><span class="sxs-lookup"><span data-stu-id="a68d6-188">4</span></span>           | <span data-ttu-id="a68d6-189">Utratená suma</span><span class="sxs-lookup"><span data-stu-id="a68d6-189">Dollars Spent</span></span>                | <span data-ttu-id="a68d6-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="a68d6-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="a68d6-191">5</span><span class="sxs-lookup"><span data-stu-id="a68d6-191">5</span></span>           | <span data-ttu-id="a68d6-192">Dátumy príchodu a odchodu</span><span class="sxs-lookup"><span data-stu-id="a68d6-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="a68d6-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="a68d6-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="a68d6-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="a68d6-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="a68d6-195">6</span><span class="sxs-lookup"><span data-stu-id="a68d6-195">6</span></span>           | <span data-ttu-id="a68d6-196">Využité služby</span><span class="sxs-lookup"><span data-stu-id="a68d6-196">Service Usage</span></span>                | <span data-ttu-id="a68d6-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="a68d6-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="a68d6-198">Výber modelu</span><span class="sxs-lookup"><span data-stu-id="a68d6-198">Model selection</span></span>

<span data-ttu-id="a68d6-199">Teraz musíme zvoliť optimálny algoritmus, ktorý sa má použiť.</span><span class="sxs-lookup"><span data-stu-id="a68d6-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="a68d6-200">V tomto prípade je väčšina funkcií založená na kategorických charakteristických vlastnostiach.</span><span class="sxs-lookup"><span data-stu-id="a68d6-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="a68d6-201">Spravidla dobre fungujú modely založené na rozhodovacích stromoch.</span><span class="sxs-lookup"><span data-stu-id="a68d6-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="a68d6-202">Ak existujú iba numerické vlastnosti, lepšou voľbou by mohli byť neurónové siete.</span><span class="sxs-lookup"><span data-stu-id="a68d6-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="a68d6-203">V takýchto situáciách je tiež dobrým kandidátom pomocný vektorový stroj (SVM); na získanie najlepšieho výkonu je však potrebné ho trochu vyladiť.</span><span class="sxs-lookup"><span data-stu-id="a68d6-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="a68d6-204">Vyberáme **Dvojtriedny vylepšený rozhodovací strom** ako prvý vybraný model, po ktorom nasleduje **Dvojtriedny SVM** ako druhý model.</span><span class="sxs-lookup"><span data-stu-id="a68d6-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="a68d6-205">Štúdio strojového učenia Azure vám umožňuje vykonávať testy A/B, takže je užitočné začať s dvoma modelmi, a nie s jedným.</span><span class="sxs-lookup"><span data-stu-id="a68d6-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="a68d6-206">Na nasledujúcom obrázku je znázornený kanál trénovania a vyhodnocovania modelu zo štúdia strojového učenia Azure:</span><span class="sxs-lookup"><span data-stu-id="a68d6-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Model straty v štúdiu strojového učenia Azure](media/azure-machine-learning-model.png)

<span data-ttu-id="a68d6-208">Používame tiež techniku s názvom **Dôležitosť charakteristickej vlastnosti permutácie**, dôležitý aspekt optimalizácie modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="a68d6-209">Vstavané modely majú malý až žiadny prehľad o vplyve akejkoľvek konkrétnej charakteristickej vlastnosti na výslednú predikciu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="a68d6-210">Kalkulačka dôležitosti funkcie používa vlastný algoritmus na výpočet vplyvu jednotlivých charakteristických vlastností na výsledok konkrétneho modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="a68d6-211">Dôležitosť charakteristickej vlastnosti je normalizovaná medzi +1 a -1.</span><span class="sxs-lookup"><span data-stu-id="a68d6-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="a68d6-212">Negatívny vplyv znamená, že zodpovedajúci prvok má kontraintuitívny vplyv na výsledok a mal by sa z modelu odstrániť.</span><span class="sxs-lookup"><span data-stu-id="a68d6-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="a68d6-213">Pozitívny vplyv naznačuje, že charakteristická vlastnosť výrazne prispieva k predikcii.</span><span class="sxs-lookup"><span data-stu-id="a68d6-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="a68d6-214">Tieto hodnoty nie sú korelačnými koeficientmi, pretože ide o rôzne metriky.</span><span class="sxs-lookup"><span data-stu-id="a68d6-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="a68d6-215">Viac informácií nájdete v časti [Dôležitosť charakteristickej vlastnosti permutácie](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="a68d6-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="a68d6-216">Celý [experiment straty je k dispozícii v galérii Azure AI](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="a68d6-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="a68d6-217">Predikcia hodnoty životnosti zákazníka</span><span class="sxs-lookup"><span data-stu-id="a68d6-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="a68d6-218">Výpočet hodnoty životnosti zákazníka (CLTV) je jednou z kľúčových metrík, ktoré môže spoločnosť použiť na hodnotenie a segmentáciu svojich zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="a68d6-219">Pre hotelierstvo je dôležité poznať svojich zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="a68d6-220">Kľúčovými informáciami sú napríklad faktory porozumenia, ktoré tvoria dobrých zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="a68d6-221">Pomáhajú manažmentu hotela posúdiť, na ktoré charakteristické vlastnosti sa musia zamerať a zlepšiť, aby uspokojili svojich vysoko platiacich zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="a68d6-222">Tieto rozhodnutia môžu mať priamy vplyv na tržby a zisky.</span><span class="sxs-lookup"><span data-stu-id="a68d6-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="a68d6-223">Definícia CLTV</span><span class="sxs-lookup"><span data-stu-id="a68d6-223">Definition of CLTV</span></span>

<span data-ttu-id="a68d6-224">V tomto príklade definujeme CLTV zákazníka ako celkovú sumu v dolároch, ktorú zákazník odhadom utratí počas nasledujúcich 365 dní.</span><span class="sxs-lookup"><span data-stu-id="a68d6-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="a68d6-225">Na predpovedanie tejto hodnoty použijeme údaje za posledné tri roky pre všetkých zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="a68d6-226">Charakterizácia</span><span class="sxs-lookup"><span data-stu-id="a68d6-226">Featurization</span></span>

<span data-ttu-id="a68d6-227">V tomto prípade bude charakterizácia podobná scenáru straty.</span><span class="sxs-lookup"><span data-stu-id="a68d6-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="a68d6-228">Označenia a predpokladané hodnoty sa však líšia od tých, ktoré sú definované vyššie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="a68d6-229">Výber modelu</span><span class="sxs-lookup"><span data-stu-id="a68d6-229">Model selection</span></span>

<span data-ttu-id="a68d6-230">Predikcia CLTV je regresný problém, pretože predikovaná hodnota je pozitívne hodnotená kontinuálna premenná.</span><span class="sxs-lookup"><span data-stu-id="a68d6-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="a68d6-231">Na základe vlastností charakteristickej vlastnosti vyberieme položku **Zvýšená regresia rozhodovacieho stromu** ako jeden algoritmus a **Regresia neurónovej siete** ako ďalší algoritmus na trénovanie modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="a68d6-232">Odporúčanie produktu alebo najbližšia najlepšia akcia</span><span class="sxs-lookup"><span data-stu-id="a68d6-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="a68d6-233">Odporúčanie produktu v scenári hotela sa interpretuje ako odporúčanie služieb, ktoré hotel ponúka zákazníkom.</span><span class="sxs-lookup"><span data-stu-id="a68d6-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="a68d6-234">Cieľom je vybrať si vhodné služby pre zákazníkov tak, aby sa maximalizovalo ich využívanie.</span><span class="sxs-lookup"><span data-stu-id="a68d6-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="a68d6-235">Je to podobné odporúčaniam filmov pre používateľov služieb streamovania videa.</span><span class="sxs-lookup"><span data-stu-id="a68d6-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="a68d6-236">Definovanie odporúčania produktu alebo najbližšej najlepšej akcie</span><span class="sxs-lookup"><span data-stu-id="a68d6-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="a68d6-237">Cieľ definujeme ako maximalizáciu objemu využívania služieb v dolároch tým, že zákazníkom hotelov poskytneme najlepšie služby podľa ich záujmu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="a68d6-238">Charakterizácia</span><span class="sxs-lookup"><span data-stu-id="a68d6-238">Featurization</span></span>

<span data-ttu-id="a68d6-239">Podobne ako model straty, sa pripájame k ServiceCustomerID hotela s ID zákazníka, aby sme mohli vytvárať odporúčania konzistentne podľa ID zákazníka.</span><span class="sxs-lookup"><span data-stu-id="a68d6-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Charakterizácia modelu odporúčania](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="a68d6-241">Údaje pochádzajú z troch rôznych entít a z nich sú odvodené charakteristické vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="a68d6-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="a68d6-242">Charakterizácia problému odporúčania sa v porovnaní so scenármi straty alebo CLTV líši.</span><span class="sxs-lookup"><span data-stu-id="a68d6-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="a68d6-243">Model odporúčaní vyžaduje vstupné údaje vo forme troch súborov funkcií.</span><span class="sxs-lookup"><span data-stu-id="a68d6-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="a68d6-244">Výber modelu</span><span class="sxs-lookup"><span data-stu-id="a68d6-244">Model selection</span></span>

<span data-ttu-id="a68d6-245">Predikujeme produkty alebo služby pomocou volaného algoritmu s názvom **Train Matchbox Recommender** na školenie modelu odporúčaní.</span><span class="sxs-lookup"><span data-stu-id="a68d6-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritmus odporúčania produktov](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="a68d6-247">Tri vstupné porty pre model **Train Matchbox Recommender** sa použijú pri trénovaní údajov o využití služieb, opisu zákazníka (voliteľné) a opisu služby.</span><span class="sxs-lookup"><span data-stu-id="a68d6-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="a68d6-248">Existujú tri rôzne spôsoby hodnotenia modelu.</span><span class="sxs-lookup"><span data-stu-id="a68d6-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="a68d6-249">Jedna je pre hodnotenie modelu, kde sa skóre NDCG (Normalized Discounted Cumulative Gain) vypočíta tak, aby sa hodnotili hodnotené položky.</span><span class="sxs-lookup"><span data-stu-id="a68d6-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="a68d6-250">V tomto experimente máme skóre NDCG vo výške 0,97.</span><span class="sxs-lookup"><span data-stu-id="a68d6-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="a68d6-251">Ďalšie dve možnosti sú hodnotenie modelu v celom odporúčanom katalógu služieb alebo hodnotenie iba položiek, ktoré používatelia predtým nepoužili.</span><span class="sxs-lookup"><span data-stu-id="a68d6-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="a68d6-252">Ak sa pozrieme ďalej na distribúciu odporúčaní v celom katalógu služieb, všimneme si, že najlepšie služby, ktoré sa odporúčajú, sú telefón, Wi-Fi a kuriér.</span><span class="sxs-lookup"><span data-stu-id="a68d6-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="a68d6-253">Je to v súlade s tým, čo sme zistili z distribúcie údajov o spotrebe služieb:</span><span class="sxs-lookup"><span data-stu-id="a68d6-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Výstup modelu odporúčaní](media/azure-machine-learning-model-output.png)

<span data-ttu-id="a68d6-255">Celý [pokus s odporúčaním produktu je prístupný v galérii Azure AI.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="a68d6-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="a68d6-256">Integrácia vlastných modelov</span><span class="sxs-lookup"><span data-stu-id="a68d6-256">Integrate custom models</span></span>

<span data-ttu-id="a68d6-257">Ak chcete tieto predikcie použiť v Customer Insights, musíte **exportovať** predikcie spolu s ID zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="a68d6-258">[Exportujte ich do rovnakého umiestnenia ukladacieho priestoru BLOB platformy Azure](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs), do ktorého exportujete zdrojové údaje.</span><span class="sxs-lookup"><span data-stu-id="a68d6-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="a68d6-259">Prediktívne webové služby môžu byť naplánované tak, aby sa spúšťali pravidelne a aktualizovali skóre.</span><span class="sxs-lookup"><span data-stu-id="a68d6-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="a68d6-260">Údaje vygenerované vlastným modelom možno použiť na ďalšie obohatenie údajov vašich zákazníkov.</span><span class="sxs-lookup"><span data-stu-id="a68d6-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="a68d6-261">Viac informácií nájdete v časti [Vlastné modely strojového učenia](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="a68d6-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
